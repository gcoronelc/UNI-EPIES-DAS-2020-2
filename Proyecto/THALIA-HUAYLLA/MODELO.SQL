
CREATE TABLE CATEGORIA
( 
	IDCATEGORIA          integer  NOT NULL ,
	NOMBRE               varchar(50)  NOT NULL ,
	CONSTRAINT XPKCATEGORIA PRIMARY KEY (IDCATEGORIA ASC)
)
go

INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(1,'LINEA BLANCA');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(2,'MENAJE');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(3,'CAMA');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(4,'MUEBLES');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(5,'ROPA DE DAMAS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(6,'ROPA DE CABALLEROS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(7,'ROPA DE SEÑORITAS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(8,'ROPA DE NIÑOS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(9,'ROPA DE NIÑAS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(10,'ELECTRODOMESTICOS');
INSERT INTO CATEGORIA(IDCATEGORIA,NOMBRE) VALUES(11,'COMPUTO');
GO


CREATE TABLE TIPODOC
( 
	IDTIPODOC            integer  NOT NULL ,
	NOMBRE               varchar(50)  NOT NULL ,
	CONSTRAINT XPKTIPODOC PRIMARY KEY (IDTIPODOC ASC)
)
go





CREATE TABLE CLIENTE
( 
	IDCLIENTE            integer  NOT NULL ,
	NOMBRE               varchar(150)  NOT NULL ,
	IDTIPODOC            integer  NOT NULL ,
	NRODOC               varchar(20)  NOT NULL ,
	DIRRECCION           varchar(200)  NOT NULL ,
	CELULAR              varchar(20)  NULL ,
	CORREO               varchar(50)  NULL ,
	CONSTRAINT XPKCLIENTE PRIMARY KEY (IDCLIENTE ASC),
	CONSTRAINT FK_CLIENTE_TIPODOC FOREIGN KEY (IDTIPODOC) REFERENCES TIPODOC(IDTIPODOC)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE ROL
( 
	IDROL                integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKROL PRIMARY KEY (IDROL ASC)
)
go



CREATE TABLE EMPLEADO
( 
	IDEMPLEADO           integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	APELLIDO             varchar(100)  NOT NULL ,
	IDROL                integer  NULL ,
	DIRECCION            varchar(150)  NOT NULL ,
	CELULAR              varchar(20)  NULL ,
	CORREO               varchar(100)  NOT NULL ,
	CONSTRAINT XPKEMPLEADO PRIMARY KEY (IDEMPLEADO ASC),
	CONSTRAINT FK_EM_LEADO_ROL FOREIGN KEY (IDROL) REFERENCES ROL(IDROL)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE USUARIO
( 
	IDEMPLEADO           integer  NOT NULL ,
	USUARIO              varchar(20)  NOT NULL ,
	CLAVE                varchar(20)  NOT NULL ,
	ESTADO               integer  NOT NULL ,
	CONSTRAINT XPKUSUARIO PRIMARY KEY (IDEMPLEADO ASC),
	CONSTRAINT XAK1USUARIO UNIQUE (USUARIO  ASC),
	CONSTRAINT FK_USUARIO_EMPLEADO FOREIGN KEY (IDEMPLEADO) REFERENCES EMPLEADO(IDEMPLEADO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE TIPOVENTA
( 
	IDTIPOVENTA          integer  NOT NULL ,
	NOMBRE               varchar(50)  NOT NULL ,
	CONSTRAINT XPKTIPOVENTA PRIMARY KEY (IDTIPOVENTA ASC)
)
go



CREATE TABLE ESTADO
( 
	IDESTADO             integer  NOT NULL ,
	DESCRIPCION          varchar(100)  NOT NULL ,
	CONSTRAINT XPKESTADO PRIMARY KEY (IDESTADO ASC)
)
go



CREATE TABLE TIPOCOMP
( 
	IDTIPOCOMP           integer  NOT NULL ,
	NOMBRE               varchar(50)  NOT NULL ,
	PREFIJO              varchar(10)  NOT NULL ,
	CONTADOR             integer  NOT NULL ,
	CONSTRAINT XPKTIPOCOMP PRIMARY KEY (IDTIPOCOMP ASC)
)
go



CREATE TABLE PEDIDO
( 
	IDPEDIDO             integer IDENTITY ( 1,1 ) ,
	FECHA                datetime  NOT NULL ,
	IDEMPLEADO           integer  NOT NULL ,
	IDCLIENTE            integer  NOT NULL ,
	IDTIPOVENTA          integer  NOT NULL ,
	IDESTADO             integer  NOT NULL ,
	IDTIPOCOMP           integer  NOT NULL ,
	NROCOMP              varchar(20)  NULL ,
	IMPORTE              numeric(10,2)  NOT NULL ,
	IMPUESTO             numeric(10,2)  NOT NULL ,
	TOTAL                numeric(10,2)  NOT NULL ,
	CONSTRAINT XPKPEDIDO PRIMARY KEY (IDPEDIDO ASC),
	CONSTRAINT FK_PEDIDO_CLIENTE FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTE(IDCLIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_PEDIDO_USUARIO FOREIGN KEY (IDEMPLEADO) REFERENCES USUARIO(IDEMPLEADO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_PEDIDO_TIPOVENTA FOREIGN KEY (IDTIPOVENTA) REFERENCES TIPOVENTA(IDTIPOVENTA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_PEDIDO_ESTADO FOREIGN KEY (IDESTADO) REFERENCES ESTADO(IDESTADO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_PEDIDO_TIPOCOMP FOREIGN KEY (IDTIPOCOMP) REFERENCES TIPOCOMP(IDTIPOCOMP)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE PRODUCTO
( 
	IDPRODUCTO           integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	PRECOSTO             decimal(10,2)  NOT NULL ,
	PREVENTA             numeric(10,2)  NOT NULL ,
	CONSTRAINT XPKPRODUCTO PRIMARY KEY (IDPRODUCTO ASC)
)
go



CREATE TABLE DETALLE
( 
	IDDETALLE            integer IDENTITY ( 1,1 ) ,
	IDPEDIDO             integer  NOT NULL ,
	IDPRODUCTO           integer  NOT NULL ,
	CANTIDAD             integer  NOT NULL ,
	PREVENTA             numeric(10,2)  NOT NULL ,
	SUBTOTAL             numeric(10,2)  NOT NULL ,
	CONSTRAINT XPKDETALLE PRIMARY KEY (IDDETALLE ASC),
	CONSTRAINT FK_DETALLE_PEDIDO FOREIGN KEY (IDPEDIDO) REFERENCES PEDIDO(IDPEDIDO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_DETALLE_PRODUCTO FOREIGN KEY (IDPRODUCTO) REFERENCES PRODUCTO(IDPRODUCTO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


