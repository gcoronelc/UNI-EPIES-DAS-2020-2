
CREATE TABLE SERVICIO
( 
	IDSERVICIO           char(4)  NOT NULL ,
	NOMBRE               varchar(150)  NOT NULL ,
	CONSTRAINT XPKSERVICIO PRIMARY KEY (IDSERVICIO ASC)
)
go



CREATE TABLE CONDICION
( 
	IDCONDICION          integer  NOT NULL ,
	NOMBRE               varchar(200)  NOT NULL ,
	CONSTRAINT XPKCONDICION PRIMARY KEY (IDCONDICION ASC)
)
go



CREATE TABLE PROFESION
( 
	IDPROFESION          char(2)  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKPROFESION PRIMARY KEY (IDPROFESION ASC)
)
go



CREATE TABLE ORGANIGRAMA
( 
	IDAREA               varchar(10)  NOT NULL ,
	ANIO                 integer  NOT NULL ,
	IDSERVICIO           char(4)  NOT NULL ,
	CONSTRAINT XPKORGANIGRAMA PRIMARY KEY (IDAREA ASC),
	CONSTRAINT FK_ORGANIGRAMA_SERVICIO FOREIGN KEY (IDSERVICIO) REFERENCES SERVICIO(IDSERVICIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE USUARIO
( 
	IDUSUARIO            integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	MATERNO              varchar(100)  NOT NULL ,
	PATERNO              varchar(100)  NOT NULL ,
	IDPROFESION          char(2)  NOT NULL ,
	EMAIL                varchar(100)  NOT NULL ,
	CELULAR              varchar(9)  NOT NULL ,
	CLAVE                varchar(4)  NOT NULL ,
	DNI                  varchar(20)  NOT NULL ,
	CONSTRAINT XPKUSUARIO PRIMARY KEY (IDUSUARIO ASC),
	CONSTRAINT XAK1USUARIO UNIQUE (DNI  ASC),
	CONSTRAINT FK_USUARIO_PROFESION FOREIGN KEY (IDPROFESION) REFERENCES PROFESION(IDPROFESION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE CONFIG
( 
	IDCONFIG             integer IDENTITY ( 1,1 ) ,
	IDAREA               varchar(10)  NOT NULL ,
	IDUSUARIO            integer  NOT NULL ,
	ANIO                 integer  NOT NULL ,
	IDCONDICION          integer  NOT NULL ,
	CONSTRAINT XPKCONFIG PRIMARY KEY (IDCONFIG ASC),
	CONSTRAINT FK_CONFIG_ORGANIGRAMA FOREIGN KEY (IDAREA) REFERENCES ORGANIGRAMA(IDAREA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_CONFIG_USUARIO FOREIGN KEY (IDUSUARIO) REFERENCES USUARIO(IDUSUARIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_CONFIG_CONDIICION FOREIGN KEY (IDCONDICION) REFERENCES CONDICION(IDCONDICION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


